/*-- scss:defaults --*/

// Vertical spacing between blocks of text
$smallMargin: 5px;
$blockMargin: 10px;
$largeMargin: 20px;

// Colors are now loaded from _colors.scss, which is auto-generated from colors.json.
// Do not define color variables here. Edit colors.json and regenerate _colors.scss if needed.
@import "_colors";

// Background of the presentation
// All color assignments use direct color names from colors.json

// Typography is now loaded from _fonts.scss, which is auto-generated from fonts.json.
// Do not define font variables here. Edit fonts.json and regenerate _fonts.scss if needed.
@import "_fonts";

$mainFontSize: 30px;
$body-line-height: 1.5;

$headingMargin: 0;
$headingColor: $byzantium;
$headingLineHeight: 1.2;
$headingLetterSpacing: normal;
$headingTextTransform: uppercase;
$headingTextShadow: none;
$headingFontWeight: normal;

$heading1Size: 3.77em;
$heading1TextShadow: 1px 1px 2px rgba(0, 0, 0, 0.1);
$heading2Size: 2.11em;
$heading3Size: 1.55em;
$heading4Size: 1em;

// Layout
$content-max-width: 900px;

/*-- scss:rules --*/

/* General text styling */
body {
  font-family: $mainFont;
  font-size: $mainFontSize;
  line-height: $body-line-height;
  color: $black;
  background-color: $white !important;
}

/* Code styling (default and reveal) */
pre,
.reveal pre,
code,
.reveal code {
  background-color: lighten($white, 20%) !important;
  color: $black;
  border-radius: 5px;
  line-height: 1;
}

pre,
.reveal pre {
  padding: $smallMargin;
}

code,
.reveal code {
  padding: 0;
}

pre code,
.reveal pre code {
  background-color: transparent;
  padding: $smallMargin;
  position: relative;
  /* Ensure line highlighting works */
  z-index: 0;
  /* Prevent conflicts with overlays */
}

/* Hide scrollbars for WebKit browsers */
pre::-webkit-scrollbar,
.reveal pre::-webkit-scrollbar {
  display: none !important;
}

/* Hide scrollbars and ensure proper text wrapping */
.reveal pre,
.reveal .slides pre,
.reveal .slides section pre,
div.sourceCode,
div.sourceCode pre,
.cell-code pre,
.hljs {
  overflow: visible !important;
  max-width: 100% !important;
  white-space: pre-wrap !important;
  word-wrap: break-word !important;
}

.reveal pre::-webkit-scrollbar,
.reveal .slides pre::-webkit-scrollbar,
.reveal .slides section pre::-webkit-scrollbar,
div.sourceCode::-webkit-scrollbar,
div.sourceCode pre::-webkit-scrollbar,
.cell-code pre::-webkit-scrollbar,
.hljs::-webkit-scrollbar {
  display: none !important;
  width: 0px !important;
  height: 0px !important;
}

pre a,
.reveal pre a,
code a,
.reveal code a {
  color: $black;
  text-decoration: underline;

  &:hover {
    color: $persianGreen;
    background-color: $black;
  }
}

a,
.reveal a,
.reveal .footer a {
  color: $persianGreen !important;
  text-decoration: underline !important;

  &:hover {
    color: $black !important;
    background-color: $persianGreen !important;
  }
}

/* Specific styling for links in title slides and slides with background colors */
.reveal .slides section a,
.reveal .title-slide a,
.reveal .bg-black a,
.reveal .slide-background a {
  color: $persianGreen !important;
  text-decoration: underline !important;

  &:hover {
    color: $black !important;
    background-color: $persianGreen !important;
  }
}

/* Force color for all links, overriding any reveal.js defaults */
.reveal a:link,
.reveal a:visited,
.reveal a:active {
  color: $persianGreen !important;
}

/* Fix for code blocks in HTML output */
.sourceCode {
  margin-left: 0 !important;
  margin-right: 0 !important;
}

/* Headings */
h1,
h2,
h3,
h4,
.reveal h1,
.reveal h2,
.reveal h3,
.reveal h4 {
  font-family: $headingFont !important;
  line-height: $headingLineHeight;
  letter-spacing: $headingLetterSpacing;
  text-transform: $headingTextTransform;
  font-weight: $headingFontWeight;
  margin: $headingMargin;
  color: $headingColor;
  text-shadow: $heading1TextShadow;
}

h1,
.reveal h1 {
  font-size: $heading1Size !important;
  margin-top: $blockMargin;
}

h2,
.reveal h2 {
  font-size: $heading2Size !important;
  margin-top: $blockMargin;
}

h3,
.reveal h3 {
  font-size: $heading3Size !important;
  margin-top: $smallMargin;
}

h4,
.reveal h4 {
  font-size: $heading4Size !important;
  margin-top: $smallMargin;
}

/* Additional Reveal.js specific heading font rules */
.reveal .slides section .fragment h1,
.reveal .slides section .fragment h2,
.reveal .slides section .fragment h3,
.reveal .slides section .fragment h4,
.reveal .slides section h1,
.reveal .slides section h2,
.reveal .slides section h3,
.reveal .slides section h4 {
  font-family: $headingFont !important;
}

/* Ensure heading classes also use the correct font */
.text-font-heading,
.reveal .text-font-heading {
  font-family: $headingFont !important;
}

/* List styling */
ul {
  padding-left: 0;
  margin-left: $blockMargin;
}

ul ul {
  margin-left: $blockMargin;
}

/* Utility text classes */
.text-bold {
  font-weight: bold;
}

.text-italic {
  font-style: italic;
}

.text-underline {
  text-decoration: underline;
}

.text-strike {
  text-decoration: line-through;
}

.text-uppercase {
  text-transform: uppercase;
}

.text-lowercase {
  text-transform: lowercase;
}

.text-capitalize {
  text-transform: capitalize;
}

.text-normal {
  text-transform: none;
}

.text-center {
  text-align: center;
}

.text-left {
  text-align: left;
}

.text-right {
  text-align: right;
}

.text-smaller {
  font-size: $mainFontSize * 0.7 !important;
}

.text-tiny {
  font-size: $mainFontSize * 0.3 !important;
}

.text-larger {
  font-size: $mainFontSize * 1.3 !important;
}

.text-size-heading1 {
  font-size: $heading1Size !important;
}

.text-size-heading2 {
  font-size: $heading2Size !important;
}

.text-size-heading3 {
  font-size: $heading3Size !important;
}

.text-size-heading4 {
  font-size: $heading4Size !important;
}

.text-size-body {
  font-size: $mainFontSize !important;
}

.text-shadow-light {
  text-shadow: 1px 1px 2px rgba(255, 255, 255, 0.8) !important;
}

.text-shadow-dark {
  text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.8) !important;
}

.text-margin-bottom-15 {
  margin-bottom: 15px !important;
}

.text-margin-top-15 {
  margin-top: 15px;
}

/* Slide content layout */
.reveal .slides {
  max-width: $content-max-width;
  margin: auto;
  padding: 0 $smallMargin;
}

.slide-margin-top-15 {
  margin: 0;
  position: absolute;
  top: 15%;
  -ms-transform: translateY(-15%);
  transform: translateY(-15%);
}

.slide-margin-top-25 {
  margin: 0;
  position: absolute;
  top: 25%;
  -ms-transform: translateY(-25%);
  transform: translateY(-25%);
}

.center-vertical {
  margin: 0;
  position: absolute;
  top: 50%;
  -ms-transform: translateY(-50%);
  transform: translateY(-50%);
}

/* Constrain figures and other large block elements */
.reveal .slides img,
.reveal .slides figure,
.reveal .slides video,
.reveal .slides .reveal-image {
  max-width: 100%;
  width: auto;
  height: auto;
  display: block;
  margin: 0 auto;
  box-sizing: border-box;
}

/* Specialized sections */
.reveal .title {
  background-color: $byzantium;
  color: $white;
  text-align: center;
}

.reveal .subtitle {
  background-color: $harvestGold;
  color: $white;
  text-align: center;
}

.reveal .inverse {
  color: $white;
  background-color: $black;
}

.reveal .exercise {
  background-color: $persianGreen;
  color: $white;
}

/* Blockquote */
.reveal .blockquote {
  padding: $smallMargin;
  border-radius: 25px;
  background-color: lighten($persianGreen, 40%);
  border-left: 6px solid $byzantium;
  border-top: 3px solid $gray;
  border-bottom: 3px solid $gray;
  border-right: 3px solid $gray;
  box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.2);
  transition: background-color 0.3s ease, border-color 0.3s ease;
}

/* Code block */
code {
  background-color: darken($white, 20%);
  padding: $smallMargin;
  border-radius: 5px;
}